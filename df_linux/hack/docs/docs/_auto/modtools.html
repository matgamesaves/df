<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scripts for Modders &mdash; DFHack 0.43.03- documentation</title>
    
    <link rel="stylesheet" href="../../_static/dfhack.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.43.03-',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/dfhack-icon.ico"/>
    <link rel="top" title="DFHack 0.43.03- documentation" href="../../index.html" />
    <link rel="up" title="DFHack Scripts" href="../Scripts.html" />
    <link rel="next" title="List of Authors" href="../Authors.html" />
    <link rel="prev" title="GUI Scripts" href="gui.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="scripts-for-modders">
<span id="modtools"></span><h1><a class="toc-backref" href="#id23">Scripts for Modders</a><a class="headerlink" href="#scripts-for-modders" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal"><span class="pre">modtools/*</span></code> scripts provide tools for modders, often with changes
to the raw files, and are not intended to be called manually by end-users.</p>
<p>They all have standard arguments: arguments are of the form <code class="docutils literal"><span class="pre">tool</span> <span class="pre">-argName1</span> <span class="pre">argVal1</span>
<span class="pre">-argName2</span> <span class="pre">argVal2</span></code>. This is equivalent to <code class="docutils literal"><span class="pre">tool</span> <span class="pre">-argName2</span> <span class="pre">argVal2</span> <span class="pre">-argName1</span>
<span class="pre">argVal1</span></code>. It is not necessary to provide a value to an argument name: <code class="docutils literal"><span class="pre">tool</span>
<span class="pre">-argName3</span></code> is fine.</p>
<p>Argument names are preceded with a dash, and supplying the same argument
name multiple times will result in an error.</p>
<p>The <code class="docutils literal"><span class="pre">-help</span></code> argument to any <code class="docutils literal"><span class="pre">modtools</span></code> script will print a descriptive
usage string describing the arguments, similar to the documentation here.</p>
<p>For multiple word argument values, brackets must be used: <code class="docutils literal"><span class="pre">tool</span>
<span class="pre">-argName4</span> <span class="pre">[</span> <span class="pre">sadf1</span> <span class="pre">sadf2</span> <span class="pre">sadf3</span> <span class="pre">]</span></code>. In order to allow passing literal braces as
part of the argument, backslashes are used: <code class="docutils literal"><span class="pre">tool</span> <span class="pre">-argName4</span> <span class="pre">[</span> <span class="pre">\]</span> <span class="pre">asdf</span> <span class="pre">\foo</span> <span class="pre">]</span></code>
sets <code class="docutils literal"><span class="pre">argName4</span></code> to <code class="docutils literal"><span class="pre">\]</span> <span class="pre">asdf</span> <span class="pre">foo</span></code>. The <code class="docutils literal"><span class="pre">*-trigger</span></code> scripts have a similar
policy with backslashes.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#scripts-for-modders" id="id23">Scripts for Modders</a><ul>
<li><a class="reference internal" href="#modtools-add-syndrome" id="id24">modtools/add-syndrome</a></li>
<li><a class="reference internal" href="#modtools-anonymous-script" id="id25">modtools/anonymous-script</a></li>
<li><a class="reference internal" href="#modtools-create-item" id="id26">modtools/create-item</a></li>
<li><a class="reference internal" href="#modtools-create-unit" id="id27">modtools/create-unit</a></li>
<li><a class="reference internal" href="#modtools-equip-item" id="id28">modtools/equip-item</a></li>
<li><a class="reference internal" href="#modtools-extra-gamelog" id="id29">modtools/extra-gamelog</a></li>
<li><a class="reference internal" href="#modtools-force" id="id30">modtools/force</a></li>
<li><a class="reference internal" href="#modtools-interaction-trigger" id="id31">modtools/interaction-trigger</a></li>
<li><a class="reference internal" href="#modtools-invader-item-destroyer" id="id32">modtools/invader-item-destroyer</a></li>
<li><a class="reference internal" href="#modtools-item-trigger" id="id33">modtools/item-trigger</a></li>
<li><a class="reference internal" href="#modtools-moddable-gods" id="id34">modtools/moddable-gods</a></li>
<li><a class="reference internal" href="#modtools-outside-only" id="id35">modtools/outside-only</a></li>
<li><a class="reference internal" href="#modtools-projectile-trigger" id="id36">modtools/projectile-trigger</a></li>
<li><a class="reference internal" href="#modtools-random-trigger" id="id37">modtools/random-trigger</a></li>
<li><a class="reference internal" href="#modtools-raw-lint" id="id38">modtools/raw-lint</a></li>
<li><a class="reference internal" href="#modtools-reaction-product-trigger" id="id39">modtools/reaction-product-trigger</a></li>
<li><a class="reference internal" href="#modtools-reaction-trigger" id="id40">modtools/reaction-trigger</a></li>
<li><a class="reference internal" href="#modtools-reaction-trigger-transition" id="id41">modtools/reaction-trigger-transition</a></li>
<li><a class="reference internal" href="#modtools-skill-change" id="id42">modtools/skill-change</a></li>
<li><a class="reference internal" href="#modtools-spawn-flow" id="id43">modtools/spawn-flow</a></li>
<li><a class="reference internal" href="#modtools-syndrome-trigger" id="id44">modtools/syndrome-trigger</a></li>
<li><a class="reference internal" href="#modtools-transform-unit" id="id45">modtools/transform-unit</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="modtools-add-syndrome">
<span id="id1"></span><h2><a class="toc-backref" href="#id24">modtools/add-syndrome</a><a class="headerlink" href="#modtools-add-syndrome" title="Permalink to this headline">¶</a></h2>
<p>This allows adding and removing syndromes from units.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-syndrome name
    the name of the syndrome to operate on
    examples:
        &quot;gila monster bite&quot;
-resetPolicy policy
    specify a policy of what to do if the unit already has an
    instance of the syndrome.  examples:
        NewInstance
            default behavior: create a new instance of the syndrome
        DoNothing
        ResetDuration
        AddDuration
-erase
    instead of adding an instance of the syndrome, erase one
-eraseAll
    erase every instance of the syndrome
-eraseClass SYN_CLASS
    erase every instance of every syndrome with the given SYN_CLASS
-target id
    the unit id of the target unit
    examples:
        0
        28
-skipImmunities
    add the syndrome to the target even if it is immune to the syndrome
</pre></div>
</div>
</div>
<div class="section" id="modtools-anonymous-script">
<span id="id2"></span><h2><a class="toc-backref" href="#id25">modtools/anonymous-script</a><a class="headerlink" href="#modtools-anonymous-script" title="Permalink to this headline">¶</a></h2>
<p>This allows running a short simple Lua script passed as an argument instead of
running a script from a file. This is useful when you want to do something too
complicated to make with the existing modtools, but too simple to be worth its
own script file.  Example:</p>
<div class="highlight-python"><div class="highlight"><pre>anonymous-script &quot;print(args[1])&quot; arg1 arg2
# prints &quot;arg1&quot;
</pre></div>
</div>
</div>
<div class="section" id="modtools-create-item">
<span id="id3"></span><h2><a class="toc-backref" href="#id26">modtools/create-item</a><a class="headerlink" href="#modtools-create-item" title="Permalink to this headline">¶</a></h2>
<p>Replaces the <a class="reference internal" href="../Plugins.html#createitem"><span>createitem</span></a> plugin, with standard
arguments. The other versions will be phased out in a later version.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-creator id
    specify the id of the unit who will create the item,
    or \\LAST to indicate the unit with id df.global.unit_next_id-1
    examples:
        0
        2
        \\LAST
-material matstring
    specify the material of the item to be created
    examples:
        INORGANIC:IRON
        CREATURE_MAT:DWARF:BRAIN
        PLANT_MAT:MUSHROOM_HELMET_PLUMP:DRINK
-item itemstr
    specify the itemdef of the item to be created
    examples:
        WEAPON:ITEM_WEAPON_PICK
-matchingShoes
    create two of this item
-matchingGloves
    create two of this item, and set handedness appropriately
</pre></div>
</div>
</div>
<div class="section" id="modtools-create-unit">
<span id="id4"></span><h2><a class="toc-backref" href="#id27">modtools/create-unit</a><a class="headerlink" href="#modtools-create-unit" title="Permalink to this headline">¶</a></h2>
<p>Creates a unit.  Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>-race raceName
    specify the race of the unit to be created
    examples:
        DWARF
        HUMAN
-caste casteName
    specify the caste of the unit to be created
    examples:
        MALE
        FEMALE
-domesticate
    if the unit can&#39;t learn or can&#39;t speak, make it a friendly animal
-civId id
    Make the created unit a member of the specified civ
    (or none if id = -1).  If id is \\LOCAL, make it a member of the
    civ associated with the fort; otherwise id must be an integer
-groupId id
    Make the created unit a member of the specified group
    (or none if id = -1).  If id is \\LOCAL, make it a member of the
    group associated with the fort; otherwise id must be an integer
-name entityRawName
    set the unit&#39;s name to be a random name appropriate for the
    given entity.  examples:
        MOUNTAIN
-nick nickname
    set the unit&#39;s nickname directly
-location [ x y z ]
    create the unit at the specified coordinates
-age howOld
    set the birth date of the unitby current age
-flagSet [ flag1 flag2 ... ]
    set the specified unit flags in the new unit to true
    flags may be selected from df.unit_flags1, df.unit_flags2,
    or df.unit_flags3
-flagClear [ flag1 flag2 ... ]
    set the specified unit flags in the new unit to false
    flags may be selected from df.unit_flags1, df.unit_flags2,
    or df.unit_flags3
</pre></div>
</div>
</div>
<div class="section" id="modtools-equip-item">
<span id="id5"></span><h2><a class="toc-backref" href="#id28">modtools/equip-item</a><a class="headerlink" href="#modtools-equip-item" title="Permalink to this headline">¶</a></h2>
<p>Force a unit to equip an item with a particular body part; useful in
conjunction with the <code class="docutils literal"><span class="pre">create</span></code> scripts above.  See also <a class="reference internal" href="../Plugins.html#forceequip"><span>forceequip</span></a>.</p>
</div>
<div class="section" id="modtools-extra-gamelog">
<span id="id6"></span><h2><a class="toc-backref" href="#id29">modtools/extra-gamelog</a><a class="headerlink" href="#modtools-extra-gamelog" title="Permalink to this headline">¶</a></h2>
<p>This script writes extra information to the gamelog.
This is useful for tools like <a class="reference external" href="http://www.bay12forums.com/smf/index.php?topic=106497">Soundsense</a>.</p>
</div>
<div class="section" id="modtools-force">
<span id="id7"></span><h2><a class="toc-backref" href="#id30">modtools/force</a><a class="headerlink" href="#modtools-force" title="Permalink to this headline">¶</a></h2>
<p>This tool triggers events like megabeasts, caravans, and migrants.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>-eventType event
    specify the type of the event to trigger
    examples:
        MegaBeast
        Migrants
        Caravan
        Diplomat
        WildlifeCurious
        WildlifeMischievous
        WildlifeFlier
        NightCreature
-civ entity
    specify the civ of the event, if applicable
    examples:
        player
        MOUNTAIN
        EVIL
        28
</pre></div>
</div>
</div>
<div class="section" id="modtools-interaction-trigger">
<span id="id8"></span><h2><a class="toc-backref" href="#id31">modtools/interaction-trigger</a><a class="headerlink" href="#modtools-interaction-trigger" title="Permalink to this headline">¶</a></h2>
<p>This triggers events when a unit uses an interaction on another. It works by
scanning the announcements for the correct attack verb, so the attack verb
must be specified in the interaction. It includes an option to suppress this
announcement after it finds it.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    unregisters all triggers
-onAttackStr str
    trigger the command when the attack verb is &quot;str&quot;. both onAttackStr and onDefendStr MUST be specified
-onDefendStr str
    trigger the command when the defend verb is &quot;str&quot;. both onAttackStr and onDefendStr MUST be specified
-suppressAttack
    delete the attack announcement from the combat logs
-suppressDefend
    delete the defend announcement from the combat logs
-command [ commandStrs ]
    specify the command to be executed
    commandStrs
        \\ATTACK_VERB
        \\DEFEND_VERB
        \\ATTACKER_ID
        \\DEFENDER_ID
        \\ATTACK_REPORT
        \\DEFEND_REPORT
        \\anything -&gt; \anything
        anything -&gt; anything
</pre></div>
</div>
<p>You must specify both an attack string and a defend string to guarantee
correct performance. Either will trigger the script when it happens, but
it will not be triggered twice in a row if both happen.</p>
</div>
<div class="section" id="modtools-invader-item-destroyer">
<span id="id9"></span><h2><a class="toc-backref" href="#id32">modtools/invader-item-destroyer</a><a class="headerlink" href="#modtools-invader-item-destroyer" title="Permalink to this headline">¶</a></h2>
<p>This tool configurably destroys invader items to prevent clutter or to prevent
the player from getting tools exclusive to certain races.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    reset all registered data
-allEntities [true/false]
    set whether it should delete items from invaders from any civ
-allItems [true/false]
    set whether it should delete all invader items regardless of
    type when an appropriate invader dies
-item itemdef
    set a particular itemdef to be destroyed when an invader
    from an appropriate civ dies.  examples:
        ITEM_WEAPON_PICK
-entity entityName
    set a particular entity up so that its invaders destroy their
    items shortly after death.  examples:
        MOUNTAIN
        EVIL
</pre></div>
</div>
</div>
<div class="section" id="modtools-item-trigger">
<span id="id10"></span><h2><a class="toc-backref" href="#id33">modtools/item-trigger</a><a class="headerlink" href="#modtools-item-trigger" title="Permalink to this headline">¶</a></h2>
<p>This powerful tool triggers DFHack commands when a unit equips, unequips, or
attacks another unit with specified item types, specified item materials, or
specified item contaminants.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    clear all registered triggers
-checkAttackEvery n
    check the attack event at least every n ticks
-checkInventoryEvery n
    check inventory event at least every n ticks
-itemType type
    trigger the command for items of this type
    examples:
        ITEM_WEAPON_PICK
        RING
-onStrike
    trigger the command on appropriate weapon strikes
-onEquip
    trigger the command when someone equips an appropriate item
-onUnequip
    trigger the command when someone unequips an appropriate item
-material mat
    trigger the commmand on items with the given material
    examples
        INORGANIC:IRON
        CREATURE_MAT:DWARF:BRAIN
        PLANT_MAT:MUSHROOM_HELMET_PLUMP:DRINK
-contaminant mat
    trigger the command on items with a given material contaminant
    examples
        INORGANIC:IRON
        CREATURE_MAT:DWARF:BRAIN
        PLANT_MAT:MUSHROOM_HELMET_PLUMP:DRINK
-command [ commandStrs ]
    specify the command to be executed
    commandStrs
        \\ATTACKER_ID
        \\DEFENDER_ID
        \\ITEM_MATERIAL
        \\ITEM_MATERIAL_TYPE
        \\ITEM_ID
        \\ITEM_TYPE
        \\CONTAMINANT_MATERIAL
        \\CONTAMINANT_MATERIAL_TYPE
        \\CONTAMINANT_MATERIAL_INDEX
        \\MODE
        \\UNIT_ID
        \\anything -&gt; \anything
        anything -&gt; anything
</pre></div>
</div>
</div>
<div class="section" id="modtools-moddable-gods">
<span id="id11"></span><h2><a class="toc-backref" href="#id34">modtools/moddable-gods</a><a class="headerlink" href="#modtools-moddable-gods" title="Permalink to this headline">¶</a></h2>
<p>This is a standardized version of Putnam&#8217;s moddableGods script. It allows you
to create gods on the command-line.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-name godName
    sets the name of the god to godName
    if there&#39;s already a god of that name, the script halts
-spheres [ sphereList ]
    define a space-separated list of spheres of influence of the god
-depictedAs str
    often depicted as a str
-domain str
    set the domain of the god
-description str
    set the description of the god
</pre></div>
</div>
</div>
<div class="section" id="modtools-outside-only">
<span id="id12"></span><h2><a class="toc-backref" href="#id35">modtools/outside-only</a><a class="headerlink" href="#modtools-outside-only" title="Permalink to this headline">¶</a></h2>
<p>This allows you to specify certain custom buildings as outside only, or inside
only. If the player attempts to build a building in an inappropriate location,
the building will be destroyed.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    clears the list of registered buildings
-checkEvery n
    set how often existing buildings are checked for whether they
    are in the appropriate location to n ticks
-type [EITHER, OUTSIDE_ONLY, INSIDE_ONLY]
    specify what sort of restriction to put on the building
-building name
    specify the id of the building
</pre></div>
</div>
</div>
<div class="section" id="modtools-projectile-trigger">
<span id="id13"></span><h2><a class="toc-backref" href="#id36">modtools/projectile-trigger</a><a class="headerlink" href="#modtools-projectile-trigger" title="Permalink to this headline">¶</a></h2>
<p>This triggers dfhack commands when projectiles hit their targets.  Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    unregister all triggers
-material
    specify a material for projectiles that will trigger the command
    examples:
        INORGANIC:IRON
        CREATURE_MAT:DWARF:BRAIN
        PLANT_MAT:MUSHROOM_HELMET_PLUMP:DRINK
-command [ commandList ]
    \\LOCATION
    \\PROJECTILE_ID
    \\FIRER_ID
    \\anything -&gt; \anything
    anything -&gt; anything
</pre></div>
</div>
</div>
<div class="section" id="modtools-random-trigger">
<span id="id14"></span><h2><a class="toc-backref" href="#id37">modtools/random-trigger</a><a class="headerlink" href="#modtools-random-trigger" title="Permalink to this headline">¶</a></h2>
<p>Trigger random dfhack commands with specified probabilities.
Register a few scripts, then tell it to &#8220;go&#8221; and it will pick one
based on the probability weights you specified.</p>
<p>Events are mutually-exclusive - register a list of scripts along with
relative weights, then tell the script to select and run one with the
specified probabilities.  The weights must be positive integers, but
they do NOT have to sum to any particular number.</p>
<p>The outcomes are mutually exclusive: only one will be triggered.  If you
want multiple independent random events, call the script multiple times.</p>
<p>99% of the time, you won&#8217;t need to worry about this, but just in case,
you can specify a name of a list of outcomes to prevent interference from
other scripts that call this one.  That also permits situations where you
don&#8217;t know until runtime what outcomes you want.  For example, you could
make a <a class="reference internal" href="#modtools-reaction-trigger"><span>modtools/reaction-trigger</span></a> that registers the worker as a mayor
candidate, then run this script to choose a random mayor from the list of
units that did the mayor reaction.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-outcomeListName name
    specify the name of this list of outcomes to prevent interference
    if two scripts are registering outcomes at the same time.  If none
    is specified, the default outcome list is selected automatically.
-command [ commandStrs ]
    specify the command to be run if this outcome is selected
    must be specified unless the -trigger argument is given
-weight n
    the relative probability weight of this outcome
    n must be a non-negative integer
    if not specified, n=1 is used by default
-trigger
    selects a random script based on the specified outcomeList
    (or the default one if none is specified)
-preserveList
    when combined with trigger, preserves the list of outcomes so you
    don&#39;t have to register them again.
-withProbability p
    p is a real number between 0 and 1 inclusive
    triggers the command immediately with this probability
-seed s
    sets the random seed for debugging purposes
    (guarantees the same sequence of random numbers will be produced)
    use
-listOutcomes
    lists the currently registered list of outcomes of the outcomeList
    along with their probability weights, for debugging purposes
-clear
    unregister everything
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><code class="docutils literal"><span class="pre">-preserveList</span></code> is something of a beta feature, which should be
avoided by users without a specific reason to use it.</p>
<p>It is highly recommended that you always specify <code class="docutils literal"><span class="pre">-outcomeListName</span></code>
when you give this command to prevent almost certain interference.
If you want to trigger one of 5 outcomes three times, you might want
this option even without <code class="docutils literal"><span class="pre">-outcomeListName</span></code>.</p>
<p class="last">The list is NOT retained across game save/load, as nobody has yet had
a use for this feature.  Contact expwnent if you would use it; it&#8217;s
not that hard but if nobody wants it he won&#8217;t bother.</p>
</div>
</div>
<div class="section" id="modtools-raw-lint">
<span id="id15"></span><h2><a class="toc-backref" href="#id38">modtools/raw-lint</a><a class="headerlink" href="#modtools-raw-lint" title="Permalink to this headline">¶</a></h2>
<p>Checks for simple issues with raw files. Can be run automatically.</p>
</div>
<div class="section" id="modtools-reaction-product-trigger">
<span id="id16"></span><h2><a class="toc-backref" href="#id39">modtools/reaction-product-trigger</a><a class="headerlink" href="#modtools-reaction-product-trigger" title="Permalink to this headline">¶</a></h2>
<p>This triggers dfhack commands when reaction products are produced, once per
product.  Usage:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    unregister all reaction hooks
-reactionName name
    specify the name of the reaction
-command [ commandStrs ]
    specify the command to be run on the target(s)
    special args
        \\WORKER_ID
        \\REACTION
        \\BUILDING_ID
        \\LOCATION
        \\INPUT_ITEMS
        \\OUTPUT_ITEMS
        \\anything -&gt; \anything
        anything -&gt; anything
</pre></div>
</div>
</div>
<div class="section" id="modtools-reaction-trigger">
<span id="id17"></span><h2><a class="toc-backref" href="#id40">modtools/reaction-trigger</a><a class="headerlink" href="#modtools-reaction-trigger" title="Permalink to this headline">¶</a></h2>
<p>Triggers dfhack commands when custom reactions complete, regardless of whether
it produced anything, once per completion.  Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    unregister all reaction hooks
-reactionName name
    specify the name of the reaction
-syndrome name
    specify the name of the syndrome to be applied to the targets
-allowNonworkerTargets
    allow other units in the same building to be targetted by
    either the script or the syndrome
-allowMultipleTargets
    allow multiple targets to the script or syndrome
    if absent:
        if running a script, only one target will be used
        if applying a syndrome, then only one target will be infected
-resetPolicy policy
    the policy in the case that the syndrome is already present
    policy
        NewInstance (default)
        DoNothing
        ResetDuration
        AddDuration
-command [ commandStrs ]
    specify the command to be run on the target(s)
    special args
        \\WORKER_ID
        \\TARGET_ID
        \\BUILDING_ID
        \\LOCATION
        \\REACTION_NAME
        \\anything -&gt; \anything
        anything -&gt; anything
</pre></div>
</div>
</div>
<div class="section" id="modtools-reaction-trigger-transition">
<span id="id18"></span><h2><a class="toc-backref" href="#id41">modtools/reaction-trigger-transition</a><a class="headerlink" href="#modtools-reaction-trigger-transition" title="Permalink to this headline">¶</a></h2>
<p>Prints useful things to the console and a file to help modders
transition from <code class="docutils literal"><span class="pre">autoSyndrome</span></code> to <a class="reference internal" href="#modtools-reaction-trigger"><span>modtools/reaction-trigger</span></a>.</p>
<p>This script is basically an apology for breaking backward
compatibility in June 2014, and will be removed eventually.</p>
</div>
<div class="section" id="modtools-skill-change">
<span id="id19"></span><h2><a class="toc-backref" href="#id42">modtools/skill-change</a><a class="headerlink" href="#modtools-skill-change" title="Permalink to this headline">¶</a></h2>
<p>Sets or modifies a skill of a unit.  Args:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">-skill skillName:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">set the skill that we&#8217;re talking about</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">-mode (add/set):</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">are we adding experience/levels or setting them?</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">-granularity (experience/level):</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">direct experience, or experience levels?</td>
</tr>
<tr class="field-even field"><th class="field-name">-unit id:</th><td class="field-body">id of the target unit</td>
</tr>
<tr class="field-odd field"><th class="field-name">-value amount:</th><td class="field-body">how much to set/add</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="modtools-spawn-flow">
<span id="id20"></span><h2><a class="toc-backref" href="#id43">modtools/spawn-flow</a><a class="headerlink" href="#modtools-spawn-flow" title="Permalink to this headline">¶</a></h2>
<p>Creates flows at the specified location.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-material mat
    specify the material of the flow, if applicable
    examples:
        INORGANIC:IRON
        CREATURE_MAT:DWARF:BRAIN
        PLANT_MAT:MUSHROOM_HELMET_PLUMP:DRINK
-location [ x y z]
    the location to spawn the flow
-flowType type
    specify the flow type
    examples:
        Miasma
        Steam
        Mist
        MaterialDust
        MagmaMist
        Smoke
        Dragonfire
        Fire
        Web
        MaterialGas
        MaterialVapor
        OceanWave
        SeaFoam
-flowSize size
    specify how big the flow is
</pre></div>
</div>
</div>
<div class="section" id="modtools-syndrome-trigger">
<span id="id21"></span><h2><a class="toc-backref" href="#id44">modtools/syndrome-trigger</a><a class="headerlink" href="#modtools-syndrome-trigger" title="Permalink to this headline">¶</a></h2>
<p>Triggers dfhack commands when syndromes are applied to units.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    clear all triggers
-syndrome name
    specify the name of a syndrome
-command [ commandStrs ]
    specify the command to be executed after infection
    args
        \\SYNDROME_ID
        \\UNIT_ID
        \\LOCATION
        \\anything -&gt; \anything
        anything -&gt; anything
</pre></div>
</div>
</div>
<div class="section" id="modtools-transform-unit">
<span id="id22"></span><h2><a class="toc-backref" href="#id45">modtools/transform-unit</a><a class="headerlink" href="#modtools-transform-unit" title="Permalink to this headline">¶</a></h2>
<p>Transforms a unit into another unit type, possibly permanently.
Warning: this will crash arena mode if you view the unit on the
same tick that it transforms.  If you wait until later, it will be fine.</p>
<p>Arguments:</p>
<div class="highlight-python"><div class="highlight"><pre>-clear
    clear records of normal races
-unit id
    set the target unit
-duration ticks
    how long it should last, or &quot;forever&quot;
-setPrevRace
    make a record of the previous race so that you can
    change it back with -untransform
-keepInventory
    move items back into inventory after transformation
-race raceName
-caste casteName
-suppressAnnouncement
    don&#39;t show the Unit has transformed into a Blah! event
-untransform
    turn the unit back into what it was before
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">DFHack</a></h1>






<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../Scripts.html">DFHack Scripts</a><ul>
      <li>Previous: <a href="gui.html" title="previous chapter">GUI Scripts</a></li>
      <li>Next: <a href="../Authors.html" title="next chapter">List of Authors</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Scripts for Modders</a><ul>
<li><a class="reference internal" href="#modtools-add-syndrome">modtools/add-syndrome</a></li>
<li><a class="reference internal" href="#modtools-anonymous-script">modtools/anonymous-script</a></li>
<li><a class="reference internal" href="#modtools-create-item">modtools/create-item</a></li>
<li><a class="reference internal" href="#modtools-create-unit">modtools/create-unit</a></li>
<li><a class="reference internal" href="#modtools-equip-item">modtools/equip-item</a></li>
<li><a class="reference internal" href="#modtools-extra-gamelog">modtools/extra-gamelog</a></li>
<li><a class="reference internal" href="#modtools-force">modtools/force</a></li>
<li><a class="reference internal" href="#modtools-interaction-trigger">modtools/interaction-trigger</a></li>
<li><a class="reference internal" href="#modtools-invader-item-destroyer">modtools/invader-item-destroyer</a></li>
<li><a class="reference internal" href="#modtools-item-trigger">modtools/item-trigger</a></li>
<li><a class="reference internal" href="#modtools-moddable-gods">modtools/moddable-gods</a></li>
<li><a class="reference internal" href="#modtools-outside-only">modtools/outside-only</a></li>
<li><a class="reference internal" href="#modtools-projectile-trigger">modtools/projectile-trigger</a></li>
<li><a class="reference internal" href="#modtools-random-trigger">modtools/random-trigger</a></li>
<li><a class="reference internal" href="#modtools-raw-lint">modtools/raw-lint</a></li>
<li><a class="reference internal" href="#modtools-reaction-product-trigger">modtools/reaction-product-trigger</a></li>
<li><a class="reference internal" href="#modtools-reaction-trigger">modtools/reaction-trigger</a></li>
<li><a class="reference internal" href="#modtools-reaction-trigger-transition">modtools/reaction-trigger-transition</a></li>
<li><a class="reference internal" href="#modtools-skill-change">modtools/skill-change</a></li>
<li><a class="reference internal" href="#modtools-spawn-flow">modtools/spawn-flow</a></li>
<li><a class="reference internal" href="#modtools-syndrome-trigger">modtools/syndrome-trigger</a></li>
<li><a class="reference internal" href="#modtools-transform-unit">modtools/transform-unit</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, The DFHack Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="../../_sources/docs/_auto/modtools.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>